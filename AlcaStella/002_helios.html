<!DOCTYPE html>
<html lang="ja">
<head>
	<!-- Google検索用 SEO メタタグ (一括追記) -->
	<meta name="description" content="UE5で制作中のオリジナルカードゲーム「HorizonNotes」の公式サイトです。カード一覧、キャラクター情報、ルールを公開中。" />
	<meta name="keywords" content="HorizonNotes, ホライゾンノーツ, UE5, カードゲーム, インディーゲーム, TCG, 公式サイト" />
	<meta name="robots" content="index, follow" />
	<link rel="canonical" href="https://horizonnotes.netlify.app/AlcaStella/002_helios.html" />
    <meta charset="UTF-8">
    <meta name="viewport" content="width=1200">
    <title>地上を照らす光「ヘリオス」 - HorizonNotes</title>
    
    <link rel="stylesheet" href="../css/style.css"> 
    
    </head>
<body>

     <div id="header-placeholder"></div>

<main class="card-detail-main">

        <h2>地上を照らす光「ヘリオス」</h2>

        <p class="flavor-quote aura-comporta">
            「やっほー！今日もバッチリ快晴だよっ！」
        </p>

        <hr>

        <button class="detail-accordion-toggle active">
            プロフィール・設定
        </button>
        <div class="detail-accordion-panel active">
                        <div class="character-intro">
                
                <div class="profile-layout">
                    <div class="profile-info">
                        <h3>プロフィール</h3>
                    <ul>
                        <li><strong>仮符号・別名:</strong> -</li>
                        <li><strong>星座:</strong> -</li>
                        <li><strong>好きなもの:</strong> 明るいところ</li>
                        <li><strong>嫌いなもの:</strong> 暗いところ</li>
                        <li><strong>身長:</strong> 140cm</li>
                        <li><strong>B:</strong> 68 / <strong>W:</strong> 64 / <strong>H:</strong> 72</li>
                    </ul>
                </div>
                <div class="profile-image">
                    <img src="../images/alcastella_StandingPicture/002_Helios.png" alt="ヘリオス 立ち絵" loading="lazy">
                </div>
            </div>

            <div class="lore-section">
                <h3>設定</h3>
                <p>
                    誰もが知る<strong>太陽系の中心</strong>、それが「<strong>ヘリオス</strong>」。<br>
                    いつも<strong>明るくて元気いっぱい</strong>のこのアルカステラは、まわりを自然と<strong>笑顔にしてしまう存在</strong>。<br>
                    気がつけば、彼女はいつも<strong>パーティの中心</strong>に。<br>
                    そう、みんなの<strong>太陽</strong>――そんな、アルカステラです。
                </p>

                <h3>性能</h3>
                <p>
                    <strong>ヘリオス</strong>は、<strong>初心者にも扱いやすいシンプルな攻撃スキル</strong>と、<strong>味方を支援するサポート能力</strong>を兼ね備えた<strong>万能タイプのキャラクター</strong>です。<br>
                    彼女の最大の特徴は、固有能力「<strong>ソーラーエネルギー</strong>」。<br>
                    戦闘中にこのエネルギーを蓄積することで、<strong>攻撃力の強化</strong>、<strong>回復</strong>、<strong>バフの付与</strong>など、さまざまな恩恵をパーティにもたらします。<br>
                    <strong>使いやすさ</strong>と<strong>高い汎用性</strong>を併せ持ち、どんなデッキにも<strong>太陽のような輝き</strong>を与えてくれる存在です。
                </p>
            </div>
        </div>
        
        </div>

        <!-- 性能詳細 -->
        <button class="detail-accordion-toggle active">
            性能詳細 (Lv・スキル)
        </button>
        <div class="detail-accordion-panel active">
                        <div class="performance-details">
                                <h3>性能詳細</h3>

            <div class="tab-nav-card-level">
                <button class="tab-btn-card-level active" data-target="level1">Lv1</button>
                <button class="tab-btn-card-level" data-target="level2">Lv2</button>
                <button class="tab-btn-card-level" data-target="level3">Lv3</button>
                <!-- <button class="tab-btn-card-level" data-target="special-rule">特別ルール</button> -->
            </div>

            <div class="tab-content-card-level">
                
                <div id="level1" class="tab-pane-card-level active">
                
                <!-- --------------------------------------------------------------------------
                ###  Lv1ステータス
                -->
                <ul class="level-stats">
                    <li><strong>HP:</strong> 50</li>
                    <li><strong>ATK:</strong> 3</li>
                    <li><strong>DEF:</strong> 3</li>
                </ul>

                <div class="level-details-grid">
                    
                    <div class="grid-column">
                        <div class="level-card-image">
                            <img src="../images/alcastella/002_Helios_Lv1.png" alt="ヘリオス Lv1 カード" loading="lazy">
                        </div>
                        
                        <!-- --------------------------------------------------------------------------
                        ###  Lv1アストラルコード
                        -->
                        <button class="skill-accordion-toggle active">
                            アストラルコード <span class="skill-count">(2)</span>
                        </button>
                        <div class="skill-accordion-panel active">
                            <div class="skill-box">
                                <h4><span class="skill-type sk-astral">アストラルコード1</span> ヘリオ・スパーク</h4>
                                <div class="skill-prop"><strong>コスト:</strong> -</div>
                                <div class="skill-prop"><strong>タイミング:</strong> 自分のターン</div>
                                <div class="skill-effect">
                                    <strong>効果:</strong><br>
                                    《全体》<strong>3d6のダメージ</strong>。<br>
                                </div>
                            </div>
                            <div class="skill-box">
                                <h4><span class="skill-type sk-astral">アストラルコード2</span> サンライト・カーニバル</h4>
                                <div class="skill-prop"><strong>コスト:</strong> -</div>
                                <div class="skill-prop"><strong>タイミング:</strong> 好きなタイミング</div>
                                <div class="skill-effect">
                                    <strong>効果:</strong><br>
                                    【<span class="glossary-tooltip">継続<span class="tooltip-text">継続:x：ターンを跨いで効果が持続し、<br>回数制限を持つキーワードです。</span></span>: 3】<br>
                                    味方全体の<strong>状態異常を【回復】</strong>し、このアルカステラに<strong>【ソーラー・エネルギー】を2つ付与</strong>する。<br>
                                    このターンの間、あなたのすべてのアルカステラは、<br>
                                    このアルカステラが持つ【ソーラー・エネルギー】の数だけ<strong>【ATK】【DEF】が【上昇】</strong>する。
                                </div>
                            </div>
                        </div>
                        </div>
                        
                        <!-- --------------------------------------------------------------------------
                        ###  Lv1攻撃スキル
                        -->
                    <div class="grid-column">
                        <div class="skill-box">
                            <h4><span class="skill-type sk-attack">攻撃スキル</span> 閃光</h4>
                            <div class="skill-prop"><strong>コスト:</strong> 2</div>
                            <div class="skill-prop"><strong>タイミング:</strong> 自分のターン</div>
                            <div class="skill-effect">
                                <strong>効果:</strong><br>
                                <strong>《ATK+1d6》のダメージ</strong>を与える。<br>
                                このダメージは、現在の<strong>《共鳴》の数だけ【上昇】</strong>する。
                            </div>
                        </div>
                        
                        
                        <!-- --------------------------------------------------------------------------
                        ###  Lv1支援スキル
                        -->
                        <button class="skill-accordion-toggle active">
                            支援スキル <span class="skill-count">(3)</span>
                        </button>
                        <div class="skill-accordion-panel active">
                            <div class="skill-box">
                                <h4><span class="skill-type sk-support">支援スキル1</span> インター・セプト</h4>
                                <div class="skill-prop"><strong>コスト:</strong> 1</div>
                                <div class="skill-prop"><strong>タイミング:</strong> 好きなタイミング</div>
                                <div class="skill-effect">
                                    <strong>効果:</strong><br>
                                    【ソーラー・エネルギー】を<strong>発動者に1つ付与</strong>する。<br>
                                    あなたは自分のセメタリーから<strong>コスト3以下のカードを1枚選び</strong>、そのカードを<strong>エーテル変換</strong>してもよい。
                                </div>
                            </div>
                            <div class="skill-box">
                                <h4><span class="skill-type sk-support">支援スキル2</span> ファースト・コンタクト</h4>
                                <div class="skill-prop"><strong>コスト:</strong> 1</div>
                                <div class="skill-prop"><strong>タイミング:</strong> 好きなタイミング</div>
                                <div class="skill-effect">
                                    <strong>効果:</strong><br>
                                    手札からカードを1枚選び、デッキに戻す。<br>
                                    その後、デッキをシャッフルし、デッキから1枚ドローする。
                                </div>
                            </div>
                            <div class="skill-box">
                                <h4><span class="skill-type sk-support">支援スキル3</span> ザ・サン</h4>
                                <div class="skill-prop"><strong>コスト:</strong> 2</div>
                                <div class="skill-prop"><strong>タイミング:</strong> 好きなタイミング</div>
                                <div class="skill-effect">
                                    <strong>効果:</strong><br>
                                    <strong>【ソーラー・エネルギー】を発動者に1つ付与</strong>する。<br>
                                    その後、このアルカステラが持つ【ソーラー・エネルギー】の<strong>数の半分（端数切り捨て）</strong>だけ、<br>
                                    あなたのすべてのアルカステラの<strong>HPを回復</strong>する。
                                </div>
                            </div>
                        </div>
                        
                        
                        <!-- --------------------------------------------------------------------------
                        ###  Lv1リーダースキルスキル
                        -->
                        <div class="skill-box">
                            <h4><span class="skill-type sk-leader">リーダースキル※Lv1,2,3含めてどれか一つ</span> 
                                Lv1:ルミナス・シフト</h4>
                            <div class="skill-prop"><strong>タイミング:</strong>常時</div>
                            <div class="skill-effect">
                                <strong>効果:</strong><br>
                                このアルカステラのHPが10以下になったとき、<strong>【HP+20】【ATK+5】【DEF+5】の【上昇】を得る</strong>（<strong>戦闘中1度だけ</strong>）。
                            </div>
                        </div>
                    </div>
                    
                    
                </div> </div> <div id="level2" class="tab-pane-card-level">
                
                <!-- --------------------------------------------------------------------------
                ###  Lv2ステータス
                -->
                <ul class="level-stats">
                    <li><strong>HP:</strong> 75</li>
                    <li><strong>ATK:</strong> 5</li>
                    <li><strong>DEF:</strong> 5</li>
                </ul>

                <div class="level-details-grid">
                    
                    <div class="grid-column">
                        <div class="level-card-image">
                            <img src="../images/alcastella/002_Helios_Lv2.png" alt="ヘリオス Lv2 カード" loading="lazy">
                        </div>
                        
                        <!-- --------------------------------------------------------------------------
                        ###  Lv2アストラルコード
                        -->
                        <button class="skill-accordion-toggle active">
                            アストラルコード <span class="skill-count">(2)</span>
                        </button>
                        <div class="skill-accordion-panel active">
                            <div class="skill-box">
                                <h4><span class="skill-type sk-astral">アストラルコード1</span> ソーラー・ストーム</h4>
                                <div class="skill-prop"><strong>コスト:</strong> すべて</div>
                                <div class="skill-prop"><strong>タイミング:</strong> 自分のターン</div>
                                <div class="skill-effect">
                                    <strong>効果:</strong><br>
                                    
                                    <strong>対象を1体選ぶ</strong>。<br>
                                    あなたは<strong>【ソーラー・エネルギー】をすべて消費</strong>し、<br>
                                    <strong>消費した数×2d6の【<span class="glossary-tooltip">消失ダメージ<span class="tooltip-text">消失ダメージ：【消失ダメージ】と書かれたダメージは、アルカステラのDEFや<br>
                        その他の【装甲】といったダメージ軽減効果を一切受けずに適用されます。</span></span>】</strong>を与える。
                                </div>
                            </div>
                            <div class="skill-box">
                                <h4><span class="skill-type sk-astral">アストラルコード2</span> サン・イラディエイト</h4>
                                <div class="skill-prop"><strong>コスト:</strong> -</div>
                                <div class="skill-prop"><strong>タイミング:</strong> 好きなタイミング</div>
                                <div class="skill-effect">
                                    <strong>効果:</strong><br>
                                    <strong>《ソーラー・エネルギー:3》</strong><br>
                                    あなたは<strong>【ソーラー・エネルギー】を3つ消費</strong>する。<br>
                                    あなたの全てのアルカステラは<strong>15点HPを回復</strong>する。<br>
                                    その後、あなたは<strong>カードを3枚ドロー</strong>し、山札の上から<strong>3枚のカードをエーテル変換</strong>する。
                                </div>
                            </div>
                        </div>
                        </div>
                    
                    <div class="grid-column">
                    <!-- --------------------------------------------------------------------------
                        ###  Lv2レベルアップ条件
                        -->
                        
                        <div class="level-up-box">
                            <h4>レベルアップ条件</h4>
                            <ol>
                                <li>後行プレイヤーの5ターン目以降</li>
                                <li>アストラルコードの使用が可能であること</li>
                            </ol>
                        </div>
                        
                        <!-- --------------------------------------------------------------------------
                        ###  Lv2攻撃スキル
                        -->
                        <div class="skill-box">
                            <h4><span class="skill-type sk-attack">攻撃スキル</span> 一刀刹那</h4>
                            <div class="skill-prop"><strong>コスト:</strong> 0</div>
                            <div class="skill-prop"><strong>タイミング:</strong> 好きなタイミング</div>
                            <div class="skill-effect">
                                <strong>効果:</strong><br>
                                <strong>《ATK+2d6》のダメージ</strong>と対象に<strong>2点の【<span class="glossary-tooltip">消失ダメージ<span class="tooltip-text">消失ダメージ：【消失ダメージ】と書かれたダメージは、アルカステラのDEFや<br>
                        その他の【装甲】といったダメージ軽減効果を一切受けずに適用されます。</span></span>】</strong>を与える。<br>
                        <strong>《ソーラー・エネルギー:1》</strong>あなたが<strong>【ソーラー・エネルギー】を1つ消費</strong>する場合、<br>
                        さらに３点の<strong>【<span class="glossary-tooltip">消失ダメージ<span class="tooltip-text">消失ダメージ：【消失ダメージ】と書かれたダメージは、アルカステラのDEFや<br>
                        その他の【装甲】といったダメージ軽減効果を一切受けずに適用されます。</span></span>】</strong>を与える。
                            </div>
                        </div>
                        
                        <!-- --------------------------------------------------------------------------
                        ###  Lv2支援スキル
                        -->
                        <button class="skill-accordion-toggle active">
                            支援スキル <span class="skill-count">(3)</span>
                        </button>
                        <div class="skill-accordion-panel active">
                            <div class="skill-box">
                                <h4><span class="skill-type sk-support">支援スキル1</span>フォーリング・サン</h4>
                                <div class="skill-prop"><strong>コスト:</strong> 5</div>
                                <div class="skill-prop"><strong>タイミング:</strong> 好きなタイミング</div>
                                <div class="skill-effect">
                                    <strong>効果:</strong><br>
                                    <strong>《ソーラー・エネルギー:10》</strong>あなたが<strong>【ソーラー・エネルギー】を10消費</strong>する場合、<br>
                                    <strong>現在のフェイズを即座に終了しあなたのターンを開始</strong>する。
                                </div>
                            </div>
                            <div class="skill-box">
                                <h4><span class="skill-type sk-support">支援スキル2</span> カレイド・スコープ</h4>
                                <div class="skill-prop"><strong>コスト:</strong> 1</div>
                                <div class="skill-prop"><strong>タイミング:</strong> 自分のターン</div>
                                <div class="skill-effect">
                                    <strong>効果:</strong><br>
                                    山札の上からカードを三枚めくる。<br>
                                    その後、そのままの順番で山札の上に戻す。
                                    ※山札がなく、カードがめくれない場合は<span class="glossary-tooltip">デッキの再構築<span class="tooltip-text">デッキの再構築：セメタリーのカードをシャッフルしてデッキに戻す。<br>
                                    その後、プレイヤーはアストラルコードの使用権を得る。</span></span>を行う。
                                </div>
                            </div>
                            <div class="skill-box">
                                <h4><span class="skill-type sk-support">支援スキル3</span> 陽光の加護</h4>
                                <div class="skill-prop"><strong>コスト:</strong> 3</div>
                                <div class="skill-prop"><strong>タイミング:</strong> あなたのアルカステラがダメージを受ける時</div>
                                <div class="skill-effect">
                                    <strong>効果:</strong><br>
                                    <strong>【ソーラー・エネルギー】を発動者に1つ付与</strong>する。<br>
                                    このアルカステラが持つ【ソーラー・エネルギー】の<strong>数の半分（端数切り捨て）</strong>だけ、この<strong>ダメージを軽減</strong>する。
                                </div>
                            </div>
                        </div>
                        
                        <!-- --------------------------------------------------------------------------
                        ###  Lv2リーダースキル
                        -->
                        <div class="skill-accordion-panel active">
                        <button class="skill-accordion-toggle active">
                            リーダースキル <span class="skill-count">(2)</span>
                        </button>
                        <div class="skill-accordion-panel active">
                        <div class="skill-box">
                            <h4><span class="skill-type sk-leader">リーダースキル①</span> Lv2:太陽の子</h4>
                            <div class="skill-prop"><strong>タイミング:</strong>常時</div>
                            <div class="skill-effect">
                                <strong>効果:</strong><br>
                                あなたの<strong>《共鳴》の数が3の倍数になるたび</strong>、<br>
                                <strong>【ソーラー・エネルギー】を1つ得る</strong>。
                            </div>
                        </div>
                            <div class="skill-box">
                            <h4><span class="skill-type sk-leader">リーダースキル②</span> Lv2:セレブレーション</h4>
                            <div class="skill-prop"><strong>タイミング:</strong>常時</div>
                            <div class="skill-effect">
                                <strong>効果:</strong><br>
                                このアルカステラが与えるダメージが1.2倍になる。
                            </div>
                        </div>
                        </div>

                    </div>
                </div> </div>
                    
                </div> <div id="level3" class="tab-pane-card-level">
                
                <!-- --------------------------------------------------------------------------
                ###  Lv3ステータス
                -->
                <ul class="level-stats">
                    <li><strong>HP:</strong> 100</li>
                    <li><strong>ATK:</strong> 8</li>
                    <li><strong>DEF:</strong> 8</li>
                </ul>

                <div class="level-details-grid">
                    
                    <div class="grid-column">
                        <div class="level-card-image">
                            <img src="../images/alcastella/002_Helios_Lv3.png" alt="ヘリオス Lv3 カード" loading="lazy">
                        </div>
                        
                        <!-- --------------------------------------------------------------------------
                        ###  Lv3アストラルコード
                        -->
                        
                    <div class="grid-column">
                            <div class="skill-box">
                                <h4><span class="skill-type sk-astral">アストラルコード</span> セレスティアル・アーク</h4>
                                <div class="skill-prop"><strong>コスト:</strong> -</div>
                                <div class="skill-prop"><strong>タイミング:</strong> 好きなタイミング</div>
                                <div class="skill-effect">
                                    <strong>効果:</strong><br>
                                    このバトル中、発動者は<strong>各レベルの攻撃スキルを1回ずつ使える</strong><br>
                                    発動者の使用するスペルカードの<strong>コストを1減らす</strong>。
                                </div>
                            </div>
                            </div>
                            </div>
                        
                    <div class="grid-column">
                    <!-- --------------------------------------------------------------------------
                        ###  Lv3レベルアップ条件
                        -->
                        
                        <div class="level-up-box">
                            <h4>レベルアップ条件</h4>
                            <ol>
                                <li>後行プレイヤーの10ターン目以降</li>
                                <li>共鳴が10以上であること</li>
                                <li>エーテルが10以上であること</li>
                            </ol>
                        </div>
                        
                        <!-- --------------------------------------------------------------------------
                        ###  Lv3攻撃スキル
                        -->
                    <div class="grid-column">
                        <div class="skill-box">
                            <h4><span class="skill-type sk-attack">攻撃スキル</span> アトミック・ブレード</h4>
                            <div class="skill-prop"><strong>コスト:</strong> 5</div>
                            <div class="skill-prop"><strong>タイミング:</strong> 自分のターン</div>
                            <div class="skill-effect">
                                <strong>効果:</strong><br>
                                <strong>《ATK+1d6》ダメージ</strong>。<br>
                                あなたは<strong>エーテルを3獲得</strong>する。<br>
                                その後、あなたは<strong>《共鳴》＋1を得る</strong>。<br>
                                この攻撃スキルは<strong>3回発動</strong>する。
                            </div>
                        </div>
                        
                        
                        <!-- --------------------------------------------------------------------------
                        ###  Lv3支援スキル
                        -->
                            <div class="skill-box">
                                <h4><span class="skill-type sk-support">支援スキル</span> エターナル・ライト</h4>
                                <div class="skill-prop"><strong>コスト:</strong> 6</div>
                                <div class="skill-prop"><strong>タイミング:</strong> 好きなタイミング</div>
                                <div class="skill-effect">
                                    <strong>効果:</strong><br>
                                    このターン、あなたの場のアルカステラの<strong>ATK,DEFを3倍</strong>にする。
                                </div>
                            </div>                        
                        
                        <!-- --------------------------------------------------------------------------
                        ###  Lv3リーダースキルスキル
                        -->
                        <div class="skill-box">
                            <h4><span class="skill-type sk-leader">リーダースキル※Lv1,2,3含めてどれか一つ</span> Lv3:光速連撃</h4>
                            <div class="skill-prop"><strong>タイミング:</strong>常時</div>
                            <div class="skill-effect">
                                <strong>効果:</strong><br>
                                このアルカステラが<strong>ダメージを与えた時</strong>、<br>
                                それに<strong>＋2点の【<span class="glossary-tooltip">消失ダメージ<span class="tooltip-text">消失ダメージ：【消失ダメージ】と書かれたダメージは、アルカステラのDEFや<br>
                        その他の【装甲】といったダメージ軽減効果を一切受けずに適用されます。</span></span>】を追加で与える</strong>。
                            </div>
                        </div>
                    </div>
                <!-- <div id="special-rule" class="tab-pane-card-level">
                    <h3>ポラリスの特別ルール</h3>
                    <p>（例：クラス変更に関する詳細なルールや、「ディープ・ラーニング」の裁定など）</p>
                </div> -->
                 </div>
        </div>

        <hr>

        <div class="back-button-wrapper">
            <a href="../cards.html" class="back-button">← カード一覧へ戻る</a>
        </div>

    </main>
    
        <div id="footer-placeholder"></div>


<script>
(function() {
    
    // --- 1. 性能詳細タブ切り替え機能 (Lv1, Lv2...) ---
    const levelTabs = document.querySelectorAll('.tab-btn-card-level');
    const levelPanes = document.querySelectorAll('.tab-pane-card-level');

    levelTabs.forEach(tab => {
        tab.addEventListener('click', () => {
            const targetId = tab.getAttribute('data-target');
            
            levelTabs.forEach(t => t.classList.remove('active'));
            levelPanes.forEach(p => p.classList.remove('active'));
            
            tab.classList.add('active');
            document.getElementById(targetId).classList.add('active');
        });
    });

    // --- 2. メインアコーディオン機能 (プロフィール / 性能) ---
    // (cards.html の .accordion-toggle とは違うクラス名 .detail-accordion-toggle を使う)
    const mainAccordions = document.querySelectorAll('.detail-accordion-toggle');
    
    mainAccordions.forEach(accordion => {
        accordion.addEventListener('click', () => {
            // クリックされたボタン
            accordion.classList.toggle('active');
            // ボタンの「次の要素」(パネル)
            const panel = accordion.nextElementSibling;
            panel.classList.toggle('active');
        });
    });
    
    // --- 3. スキルアコーディオン機能 (アストラルコード / 支援スキル) ---
    const skillAccordions = document.querySelectorAll('.skill-accordion-toggle');
    
    skillAccordions.forEach(accordion => {
        accordion.addEventListener('click', () => {
            // クリックされたボタン
            accordion.classList.toggle('active');
            // ボタンの「次の要素」(パネル)
            const panel = accordion.nextElementSibling;
            panel.classList.toggle('active');
        });
    });
    
    // --- 7. Smart Tooltip Positioning (v2) ---
        const tooltips = document.querySelectorAll('.glossary-tooltip');

        tooltips.forEach(tooltip => {
            const tooltipText = tooltip.querySelector('.tooltip-text');
            if (!tooltipText) return; // ツールチップテキストが無ければ何もしない

            tooltip.addEventListener('mouseover', () => {
                // 1. ツールチップの幅をCSSから取得 (CSSの width: 300px と合わせる)
                const tooltipWidth = 300; 
                // 2. 親要素（トリガー）の位置と画面幅を取得
                const rect = tooltip.getBoundingClientRect();
                const screenWidth = window.innerWidth;
                
                // 3. デフォルトの中央揃え (`left: 50%`, `transform: translateX(-50%)`) で
                //    左右がはみ出すか計算する
                const tooltipHalfWidth = tooltipWidth / 2;
                const triggerCenter = rect.left + (rect.width / 2);

                const overflowRight = (triggerCenter + tooltipHalfWidth) > screenWidth;
                const overflowLeft = (triggerCenter - tooltipHalfWidth) < 0;

                // 4. クラスを一旦リセット
                tooltipText.classList.remove('align-left-edge', 'align-right-edge');

                // 5. 判定してクラスを付与
                if (overflowRight) {
                    // 右にはみ出す場合、右端に寄せる
                    tooltipText.classList.add('align-right-edge');
                } else if (overflowLeft) {
                    // 左にはみ出す場合、左端に寄せる
                    tooltipText.classList.add('align-left-edge');
                }
                // どちらもはみ出さなければ、クラスは付かずデフォルトの中央揃えになる
            });
        });

})();
</script>

    <script>
    // --- ヘッダーを読み込む処理 ---
    fetch('/_includes/header.html')
        .then(response => {
            if (!response.ok) throw new Error('Network response was not ok');
            return response.text();
        })
        .then(data => {
            document.getElementById('header-placeholder').innerHTML = data;
        })
        .catch(error => {
            console.error('ヘッダーの読み込みに失敗しました:', error);
        });

    // --- フッターを読み込む処理 ---
    fetch('/_includes/footer.html')
        .then(response => {
            if (!response.ok) throw new Error('Network response was not ok');
            return response.text();
        })
        .then(data => {
            document.getElementById('footer-placeholder').innerHTML = data;
        })
        .catch(error => {
            console.error('フッターの読み込みに失敗しました:', error);
        });
</script>

</body>
</html>