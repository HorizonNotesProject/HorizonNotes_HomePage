<!DOCTYPE html>
<html lang="ja">
<head>
	<!-- Google検索用 SEO メタタグ (一括追記) -->
	<meta name="description" content="UE5で制作中のオリジナルカードゲーム「HorizonNotes」の公式サイトです。カード一覧、キャラクター情報、ルールを公開中。" />
	<meta name="keywords" content="HorizonNotes, ホライゾンノーツ, UE5, カードゲーム, インディーゲーム, TCG, 公式サイト" />
	<meta name="robots" content="index, follow" />
	<link rel="canonical" href="https://horizonnotes.netlify.app/AlcaStella/065_Gliese-581g.html" />
    <meta charset="UTF-8">
    <meta name="viewport" content="width=1200">
    <title>0と1の狭間で、存在証明を謳う幻影「グリーゼ-581g」 - HorizonNotes</title>
    
    <link rel="stylesheet" href="../css/style.css"> 
    
    </head>
<body>

     <div id="header-placeholder"></div>

<main class="card-detail-main">

        <h2>0と1の狭間で、存在証明を謳う幻影「グリーゼ-581g」</h2>

        <p class="flavor-quote grimoire">
            「これを……私に？ <br>
            研究機材ではなく、私自身への……贈り物、ですか？<br>
             ……大切にします。データが焼き切れるまで、絶対に。」
        </p>

        <hr>

        <button class="detail-accordion-toggle active">
            プロフィール・設定
        </button>
        <div class="detail-accordion-panel active">
                        <div class="character-intro">
                
                <div class="profile-layout">
                    <div class="profile-info">
                        <h3>プロフィール</h3>
                    <ul>
                        <li><strong>クラス:</strong> セフィル・イェツィラー</li>
                        <li><strong>仮符号・別名:</strong> -</li>
                        <li><strong>星座:</strong> -</li>
                        <li><strong>好きなもの:</strong> 人、お仕事、リサイクルショップ巡り</li>
                        <li><strong>嫌いなもの:</strong> 孤独</li>
                        <li><strong>身長:</strong> 148cm</li>
                        <li><strong>B:</strong> 72 / <strong>W:</strong> 62 / <strong>H:</strong> 78</li>
                    </ul>
                </div>
                <div class="profile-image">
                    <img src="../images/alcastella_StandingPicture/065_Gliese-581g.png" alt="グリーゼ-581g 立ち絵" loading="lazy">
                </div>
            </div>

            <div class="lore-section">
                <h3>設定</h3>
                <p>
                    かつて生命の揺りかごとして期待されながら、その存在すらあやふやとなった<strong>幻の惑星</strong>をモチーフに持つ、儚げな少女。<br>
                    究極のアルカステラ「ジ・アース」を創造するための実験体として生み出されましたが、志半ばで計画は凍結。<br>
                    研究者たちに見限られた過去を持っています。<br>
                    <br>
                    その瞳の奥には、<strong>製造中止</strong>という烙印を押された哀しみと「それでも人類の役に立ちたい」という切実な願いが同居しています。<br>
                    自分は選ばれなかった存在であるという劣等感を抱きつつも、だからこそ<strong>今度こそは誰かを守り抜きたい</strong>という想いは人一倍強固です。<br>
                    <br>
                    不完全な存在かもしれませんが、彼女は自身の全てを懸けてマスターに尽くします。<br>
                    たとえ幻と呼ばれようとも、<strong>あなたの傍に在り続けること</strong>こそが彼女が掴んだ唯一の確かな真実なのです。
                </p>

                <h3>性能</h3>
                <p>
                    <strong>グリーゼ581g</strong>は、戦場におけるすべての事象を<strong>「データ（ログ）」</strong>として記録・監視し、<br>
                    相手の行動そのものを<strong>「バグ」</strong>とみなして排除する、支配的な戦術を得意とします。<br><br>
                    固有領域<strong>『ハビタブルゾーン』</strong>に相手のカード情報を記録することで、不可視であるはずの手札や山札すらも攻撃対象とし、<br>
                    <strong>「情報の非対称性」</strong>を崩壊させて、相手を逃げ場のない論理迷路へと誘（いざな）います。<br><br>
                    
                    時に自らの構成データ（HP）を削る<strong>「改変」</strong>や、自身の存在崩壊を代償とした<strong>「禁断のコード」</strong>すらも厭わず、<br>
                    破滅の運命と引き換えに最強の権限（アドミニストレータ）を行使する姿は、まさにシステムを掌握するハッカーそのもの。<br><br>
                    
                    0と1の狭間でリソースを管理し、盤面というプログラムを自身の望む形へと書き換えていく、<strong>テクニカルで支配的なアルカステラ</strong>です。
                </p>
            </div>
        </div>
        
        </div>

        <!-- 性能詳細 -->
        <button class="detail-accordion-toggle active">
            性能詳細 (Lv・スキル)
        </button>
        <div class="detail-accordion-panel active">
                        <div class="performance-details">
                                <h3>性能詳細</h3>

            <div class="tab-nav-card-level">
                <button class="tab-btn-card-level active" data-target="level1">Lv1</button>
                <button class="tab-btn-card-level" data-target="level2">Lv2</button>
                <button class="tab-btn-card-level" data-target="level3">Lv3</button>
                <!-- <button class="tab-btn-card-level" data-target="special-rule">特別ルール</button> -->
            </div>

            <div class="tab-content-card-level">
                
                <div id="level1" class="tab-pane-card-level active">
                
                <!-- --------------------------------------------------------------------------
                ###  Lv1ステータス
                -->
                <ul class="level-stats">
                    <li><strong>HP:</strong> 50</li>
                    <li><strong>ATK:</strong> 3</li>
                    <li><strong>DEF:</strong> 3</li>
                </ul>

                <div class="level-details-grid">
                    
                    <div class="grid-column">
                        <div class="level-card-image">
                            <img src="../images/alcastella/065_Gliese-581g_Lv1.png" alt="グリーゼ-581g Lv1 カード" loading="lazy">
                        </div>
                        
                        <!-- --------------------------------------------------------------------------
                        ###  Lv1アストラルコード
                        -->
                        <button class="skill-accordion-toggle active">
                            アストラルコード <span class="skill-count">(2)</span>
                        </button>
                        <div class="skill-accordion-panel active">
                            <div class="skill-box">
                                <h4><span class="skill-type sk-astral">アストラルコード1</span> ガーベジ・コレクション</h4>
                                <div class="skill-prop"><strong>コスト:</strong> -</div>
                                <div class="skill-prop"><strong>タイミング:</strong> 好きなタイミング</div>
                                <div class="skill-effect">
                                    <strong>効果:</strong><br>
                                    <strong>【ハビタブルゾーン】</strong>に記録されているカードを最大5枚まで対象とする。<br>
                                     対象としたカードそれぞれについて、移動先（山札の一番上、手札、セメタリー、エーテルエリア）をあなたが任意に指定し<br>
                                     その領域へ強制的に移動させる。
                                </div>
                            </div>
                            <div class="skill-box">
                                <h4><span class="skill-type sk-astral">アストラルコード2</span> エクセプション・ハンドリング</h4>
                                <div class="skill-prop"><strong>コスト:</strong> -</div>
                                <div class="skill-prop"><strong>タイミング:</strong> 自分のターン</div>
                                <div class="skill-effect">
                                    <strong>効果:</strong><br>
                                    【ハビタブルゾーン】に記録されているカードを2枚選択する。<br>
                                     そのカードの所在情報を<strong>【完全公開】</strong>に変更する。<br> 
                                     （※以降、対象のカードが手札や山札などの非公開領域にあっても、どちらにあるか常に特定され、公開情報として扱われる）
                                </div>
                            </div>
                        </div>
                        </div>
                        
                        <!-- --------------------------------------------------------------------------
                        ###  Lv1攻撃スキル
                        -->
                    <div class="grid-column">
                        <div class="skill-box">
                            <h4><span class="skill-type sk-attack">攻撃スキル</span> コンフリクト</h4>
                            <div class="skill-prop"><strong>コスト:</strong> 2</div>
                            <div class="skill-prop"><strong>タイミング:</strong> 好きなタイミング</div>
                            <div class="skill-effect">
                                <strong>効果:</strong><br>
                                <strong>《ATK＋1d6 》ダメージ</strong>を与える。<br>
                                その後、【ハビタブルゾーン】に記録されているカードを1枚、相手に公開せずに選択する。<br>
                                このターン中、相手が選択されたカードと同名のカードを発動した際、<br>
                                あなたは手札を2枚捨てることで、その発動を【無効】にすることができる。
                            </div>
                        </div>
                        
                        
                        <!-- --------------------------------------------------------------------------
                        ###  Lv1支援スキル
                        -->
                        <button class="skill-accordion-toggle active">
                            支援スキル <span class="skill-count">(3)</span>
                        </button>
                        <div class="skill-accordion-panel active">
                            <div class="skill-box">
                                <h4><span class="skill-type sk-support">支援スキル1</span> ハローワールド</h4>
                                <div class="skill-prop"><strong>コスト:</strong> 2</div>
                                <div class="skill-prop"><strong>タイミング:</strong> 好きなタイミング</div>
                                <div class="skill-effect">
                                    <strong>効果:</strong><br>
                                    【ハビタブルゾーン】に記録されているカードを1枚選択する。<br> 
                                    選択したカードが相手の手札に存在する場合、あなたはカードを2枚ドローする。
                                </div>
                            </div>
                            <div class="skill-box">
                                <h4><span class="skill-type sk-support">支援スキル2</span> レガシー・コード</h4>
                                <div class="skill-prop"><strong>コスト:</strong> 1</div>
                                <div class="skill-prop"><strong>タイミング:</strong> 好きなタイミング</div>
                                <div class="skill-effect">
                                    <strong>効果:</strong><br>
                                    【ハビタブルゾーン】に記録されているカードを5枚選択する。<br>
                                     それらの記録を削除する。<br> 
                                     その後、あなたの全てのアルカステラに12点の【<span class="glossary-tooltip">装甲<span class="tooltip-text">装甲:x：ダメージを受ける時、タップ状態に関わらずそのダメージを軽減します。<br>また、この軽減はスペルカードや支援スキルによるダメージにも適用されます。<br>軽減した場合、軽減した値分だけxの値が減少します。（例：3ダメージ軽減した場合、xが3減少）</span></span>】**を付与する。
                                </div>
                            </div>
                            <div class="skill-box">
                                <h4><span class="skill-type sk-support">支援スキル3</span> ファースト・コンタクト</h4>
                                <div class="skill-prop"><strong>コスト:</strong> 1</div>
                                <div class="skill-prop"><strong>タイミング:</strong> 好きなタイミング</div>
                                <div class="skill-effect">
                                    <strong>効果:</strong><br>
                                    手札からカードを1枚選び、デッキに戻す。<br>
                                    その後、デッキをシャッフルし、デッキから1枚ドローする。
                                </div>
                            </div>
                        </div>
                        
                        
                        <!-- --------------------------------------------------------------------------
                        ###  Lv1リーダースキルスキル
                        -->
                        <div class="skill-box">
                            <h4><span class="skill-type sk-leader">リーダースキル※Lv1,2,3含めてどれか一つ</span> 
                                Lv1:ハビタブルゾーン</h4>
                            <div class="skill-prop"><strong>タイミング:</strong>常時</div>
                            <div class="skill-effect">
                                <strong>効果:</strong><br>
                                <strong>※このスキルはリーダーでなくても発動する。</strong><br>
                                相手がスペルカードを発動した時、そのカードにIDを付与し、あなたの情報領域<strong>【ハビタブルゾーン】</strong>に記録する。<br>
                                記録されたカードの所在情報は以下のように扱われる。<br>
                                ・<strong>公開領域（セメタリー、ボイドなど）にある場合：</strong>正確な場所を特定し、常に監視する。<br>
                                ・<strong>非公開領域（山札、手札）にある場合：</strong>『未確定領域（潜伏中）』として扱い、<br>
                                「山札または手札のどこかにある」ことのみを記録する。（どちらにあるかまでは特定できない）
                            </div>
                        </div>
                    </div>
                    
                    
                </div> </div> <div id="level2" class="tab-pane-card-level">
                
                <!-- --------------------------------------------------------------------------
                ###  Lv2ステータス
                -->
                <ul class="level-stats">
                    <li><strong>HP:</strong> 75</li>
                    <li><strong>ATK:</strong> 5</li>
                    <li><strong>DEF:</strong> 5</li>
                </ul>

                <div class="level-details-grid">
                    
                    <div class="grid-column">
                        <div class="level-card-image">
                            <img src="../images/alcastella/065_Gliese-581g_Lv2.png" alt="グリーゼ-581g Lv2 カード" loading="lazy">
                        </div>
                        
                        <!-- --------------------------------------------------------------------------
                        ###  Lv2アストラルコード
                        -->
                        <button class="skill-accordion-toggle active">
                            アストラルコード <span class="skill-count">(2)</span>
                        </button>
                        <div class="skill-accordion-panel active">
                            <div class="skill-box">
                                <h4><span class="skill-type sk-astral">アストラルコード1</span> フェイタル・エラー</h4>
                                <div class="skill-prop"><strong>コスト:</strong> 2</div>
                                <div class="skill-prop"><strong>タイミング:</strong> 自分のターン</div>
                                <div class="skill-effect">
                                    <strong>効果:</strong><br>
                                    相手の全てのアルカステラに、【ハビタブルゾーン】に記録されているカード（ID）の数と等しい値のダメージを与える。<br>
                                    さらに、このターン中、以下の効果を適用する。<br> 
                                    『相手が【ハビタブルゾーン】に記録されているスペルカードを発動した際、あなたは自身のHPを3点支払うことで、<br>
                                    その発動を【無効】にすることができる。』 （※この効果は、HPが払える限り何度でも発動可能）
                            </div>
                            <div class="skill-box">
                                <h4><span class="skill-type sk-astral">アストラルコード2</span> デプリケーテッド</h4>
                                <div class="skill-prop"><strong>コスト:</strong> 3</div>
                                <div class="skill-prop"><strong>タイミング:</strong> 好きなタイミング</div>
                                <div class="skill-effect">
                                    <strong>効果:</strong><br>
                                    自身のATKとDEFを、現在の値の3倍にする。<br> 
                                    この効果を使用した後、次のあなたのターン開始時に、自身のHPは<strong>0（戦闘不能）</strong>になる。
                                </div>
                            </div>
                        </div>
                        </div>
                        </div>
                    
                    <div class="grid-column">
                    <!-- --------------------------------------------------------------------------
                        ###  Lv2レベルアップ条件
                        -->
                        
                        <div class="level-up-box">
                            <h4>レベルアップ条件</h4>
                            <ol>
                                <li>後行プレイヤーの5ターン目以降</li>
                                <li>『ハビタブルゾーン』のカードが15枚以上</li>
                            </ol>
                        </div>
                        
                        <!-- --------------------------------------------------------------------------
                        ###  Lv2攻撃スキル
                        -->
                        <div class="skill-box">
                            <h4><span class="skill-type sk-attack">攻撃スキル</span> ヌル・ポインタ</h4>
                            <div class="skill-prop"><strong>コスト:</strong> 2</div>
                            <div class="skill-prop"><strong>タイミング:</strong> 好きなタイミング</div>
                            <div class="skill-effect">
                                《ATK＋1d6 》ダメージを与える。<br> 
                                その後、【ハビタブルゾーン】に記録されているカードを1枚選択する。<br>
                                相手の手札に、選択したカードと同名のカードが存在する場合、相手はそのうち1枚をセメタリーに送る。
                        </div>
                        
                        <!-- --------------------------------------------------------------------------
                        ###  Lv2支援スキル
                        -->
                        <button class="skill-accordion-toggle active">
                            支援スキル <span class="skill-count">(3)</span>
                        </button>
                        <div class="skill-accordion-panel active">
                            <div class="skill-box">
                                <h4><span class="skill-type sk-support">支援スキル1</span>ロールバック</h4>
                                <div class="skill-prop"><strong>コスト:</strong> 2</div>
                                <div class="skill-prop"><strong>タイミング:</strong> 好きなタイミング</div>
                                <div class="skill-effect">
                                    <strong>効果:</strong><br>
                                    相手は自身の手札をすべて山札に戻し、シャッフルする。<br> 
                                    その後、相手はカードを3枚引く。
                                </div>
                            </div>
                            <div class="skill-box">
                                <h4><span class="skill-type sk-support">支援スキル2</span> オーバーフロー</h4>
                                <div class="skill-prop"><strong>コスト:</strong> 2</div>
                                <div class="skill-prop"><strong>タイミング:</strong> 好きなタイミング</div>
                                <div class="skill-effect">
                                    <strong>効果:</strong><br>
                                    【ハビタブルゾーン】に記録されているカードを5枚選択し、その情報を削除する。<br>
                                     このターン終了時まで、お互いのそれぞれのアルカステラが1ターンに使用できるスペルカードは、3枚までに制限される。<br> 
                                     （※すでにこのターンに3枚以上使用している場合、それ以上は使用できない）
                                </div>
                            </div>
                            <div class="skill-box">
                                <h4><span class="skill-type sk-support">支援スキル3</span> セティの夢</h4>
                                <div class="skill-prop"><strong>コスト:</strong> 0</div>
                                <div class="skill-prop"><strong>タイミング:</strong> 好きなタイミング</div>
                                <div class="skill-effect">
                                    <strong>効果:</strong><br>
                                    あなたのエーテルエリアにあるカードを1枚選び、山札の一番上に戻す。
                                </div>
                            </div>
                        </div>
                        
                        <!-- --------------------------------------------------------------------------
                        ###  Lv2リーダースキル
                        -->
                        <div class="skill-accordion-panel active">
                        <button class="skill-accordion-toggle active">
                            リーダースキル <span class="skill-count">(2)</span>
                        </button>
                        <div class="skill-accordion-panel active">
                        <div class="skill-box">
                            <h4><span class="skill-type sk-leader">リーダースキル①</span> Lv2:-</h4>
                            <div class="skill-prop"><strong>タイミング:</strong>-</div>
                            <div class="skill-effect">
                                <strong>効果:</strong><br>
                                -
                            </div>
                        </div>
                            <div class="skill-box">
                            <h4><span class="skill-type sk-leader">リーダースキル②</span> Lv2:-</h4>
                            <div class="skill-prop"><strong>タイミング:</strong>-</div>
                            <div class="skill-effect">
                                <strong>効果:</strong><br>
                                -
                            </div>
                        </div>
                        </div>

                        </div>
                    </div>
                </div> </div>
                    
                </div> <div id="level3" class="tab-pane-card-level">
                
                <!-- --------------------------------------------------------------------------
                ###  Lv3ステータス
                -->
                <ul class="level-stats">
                    <li><strong>HP:</strong> 100</li>
                    <li><strong>ATK:</strong> 8</li>
                    <li><strong>DEF:</strong> 8</li>
                </ul>

                <div class="level-details-grid">
                    
                    <div class="grid-column">
                        <div class="level-card-image">
                            <img src="../images/alcastella/065_Gliese-581g_Lv3.png" alt="グリーゼ-581g Lv3 カード" loading="lazy">
                        </div>
                        
                        <!-- --------------------------------------------------------------------------
                        ###  Lv3アストラルコード
                        -->
                        
                    <div class="grid-column">
                            <div class="skill-box">
                                <h4><span class="skill-type sk-astral">アストラルコード</span> オール・デリート</h4>
                                <div class="skill-prop"><strong>コスト:</strong> すべて</div>
                                <div class="skill-prop"><strong>タイミング:</strong> 好きなタイミング</div>
                                <div class="skill-effect">
                                    <strong>効果:</strong><br>
                                    【ハビタブルゾーン】に記録されているカード情報を全て削除する。<br>
                                     削除した数と同じ回数、以下の処理を繰り返す。<br>
                                    『ランダムな敵アルカステラ1体に対し、1d6点の【<span class="glossary-tooltip">消失ダメージ<span class="tooltip-text">消失ダメージ：【消失ダメージ】と書かれたダメージは、アルカステラのDEFや<br>
                                        その他の【装甲】といったダメージ軽減効果を一切受けずに適用されます。</span></span>】を与える。』<br>
                                        さらに、次の相手ターンのドローフェイズ終了時、相手は自身の手札を全て捨てる。
                                </div>
                            </div>
                            </div>
                            </div>
                        
                    <div class="grid-column">
                    <!-- --------------------------------------------------------------------------
                        ###  Lv3レベルアップ条件
                        -->
                        
                        <div class="level-up-box">
                            <h4>レベルアップ条件</h4>
                            <ol>
                                <li>後行プレイヤーの10ターン目以降</li>
                                <li>あなたのエーテルが10以上</li>
                                <li>【ハビタブルゾーン】にカード情報が30枚以上ある事</li>
                            </ol>
                        </div>
                        
                        <!-- --------------------------------------------------------------------------
                        ###  Lv3攻撃スキル
                        -->
                    <div class="grid-column">
                        <div class="skill-box">
                            <h4><span class="skill-type sk-attack">攻撃スキル</span> マイ・ドゥーム</h4>
                            <div class="skill-prop"><strong>コスト:</strong> 5</div>
                            <div class="skill-prop"><strong>タイミング:</strong> 自分のターン</div>
                            <div class="skill-effect">
                                <strong>効果:</strong><br>
                                <strong>《ATK+4d6》</strong>のダメージ。
                                    その後、【ハビタブルゾーン】に記録されているカードを3枚選択する。<br> 
                                    それらのカード（本体）を、【残照カード】に変化させる。
                            </div>
                        </div>
                        
                        
                        <!-- --------------------------------------------------------------------------
                        ###  Lv3支援スキル
                        -->
                            <div class="skill-box">
                                <h4><span class="skill-type sk-support">支援スキル</span> セント・ジ・アース</h4>
                                <div class="skill-prop"><strong>コスト:</strong> 1</div>
                                <div class="skill-prop"><strong>タイミング:</strong> 好きなタイミング</div>
                                <div class="skill-effect">
                                    <strong>効果:</strong><br>
                                    【ハビタブルゾーン】に記録されているカードを3枚選択し、その情報を削除する。<br>
                                     その後、あなたは自身の手札が5枚になるように、山札からカードをドローする。<br>
                                      （※手札がすでに5枚以上ある場合、ドローは行われない）
                                </div>
                            </div>                        
                        
                        <!-- --------------------------------------------------------------------------
                        ###  Lv3リーダースキルスキル
                        -->
                        <div class="skill-box">
                            <h4><span class="skill-type sk-leader">リーダースキル※Lv1,2,3含めてどれか一つ</span> Lv3:-</h4>
                            <div class="skill-prop"><strong>タイミング:</strong>-</div>
                            <div class="skill-effect">
                                <strong>効果:</strong><br>
                                -
                            </div>
                        </div>
                    </div>
                <!-- <div id="special-rule" class="tab-pane-card-level">
                    <h3>ポラリスの特別ルール</h3>
                    <p>（例：クラス変更に関する詳細なルールや、「ディープ・ラーニング」の裁定など）</p>
                </div> -->
                 </div>
        </div>

        <hr>

        <div class="back-button-wrapper">
            <a href="../cards.html" class="back-button">← カード一覧へ戻る</a>
        </div>

    </main>
    
        <div id="footer-placeholder"></div>


<script>
(function() {
    
    // --- 1. 性能詳細タブ切り替え機能 (Lv1, Lv2...) ---
    const levelTabs = document.querySelectorAll('.tab-btn-card-level');
    const levelPanes = document.querySelectorAll('.tab-pane-card-level');

    levelTabs.forEach(tab => {
        tab.addEventListener('click', () => {
            const targetId = tab.getAttribute('data-target');
            
            levelTabs.forEach(t => t.classList.remove('active'));
            levelPanes.forEach(p => p.classList.remove('active'));
            
            tab.classList.add('active');
            document.getElementById(targetId).classList.add('active');
        });
    });

    // --- 2. メインアコーディオン機能 (プロフィール / 性能) ---
    // (cards.html の .accordion-toggle とは違うクラス名 .detail-accordion-toggle を使う)
    const mainAccordions = document.querySelectorAll('.detail-accordion-toggle');
    
    mainAccordions.forEach(accordion => {
        accordion.addEventListener('click', () => {
            // クリックされたボタン
            accordion.classList.toggle('active');
            // ボタンの「次の要素」(パネル)
            const panel = accordion.nextElementSibling;
            panel.classList.toggle('active');
        });
    });
    
    // --- 3. スキルアコーディオン機能 (アストラルコード / 支援スキル) ---
    const skillAccordions = document.querySelectorAll('.skill-accordion-toggle');
    
    skillAccordions.forEach(accordion => {
        accordion.addEventListener('click', () => {
            // クリックされたボタン
            accordion.classList.toggle('active');
            // ボタンの「次の要素」(パネル)
            const panel = accordion.nextElementSibling;
            panel.classList.toggle('active');
        });
    });
    
    // --- 7. Smart Tooltip Positioning (v2) ---
        const tooltips = document.querySelectorAll('.glossary-tooltip');

        tooltips.forEach(tooltip => {
            const tooltipText = tooltip.querySelector('.tooltip-text');
            if (!tooltipText) return; // ツールチップテキストが無ければ何もしない

            tooltip.addEventListener('mouseover', () => {
                // 1. ツールチップの幅をCSSから取得 (CSSの width: 300px と合わせる)
                const tooltipWidth = 300; 
                // 2. 親要素（トリガー）の位置と画面幅を取得
                const rect = tooltip.getBoundingClientRect();
                const screenWidth = window.innerWidth;
                
                // 3. デフォルトの中央揃え (`left: 50%`, `transform: translateX(-50%)`) で
                //    左右がはみ出すか計算する
                const tooltipHalfWidth = tooltipWidth / 2;
                const triggerCenter = rect.left + (rect.width / 2);

                const overflowRight = (triggerCenter + tooltipHalfWidth) > screenWidth;
                const overflowLeft = (triggerCenter - tooltipHalfWidth) < 0;

                // 4. クラスを一旦リセット
                tooltipText.classList.remove('align-left-edge', 'align-right-edge');

                // 5. 判定してクラスを付与
                if (overflowRight) {
                    // 右にはみ出す場合、右端に寄せる
                    tooltipText.classList.add('align-right-edge');
                } else if (overflowLeft) {
                    // 左にはみ出す場合、左端に寄せる
                    tooltipText.classList.add('align-left-edge');
                }
                // どちらもはみ出さなければ、クラスは付かずデフォルトの中央揃えになる
            });
        });

})();
</script>

    <script>
    // --- ヘッダーを読み込む処理 ---
    fetch('/_includes/header.html')
        .then(response => {
            if (!response.ok) throw new Error('Network response was not ok');
            return response.text();
        })
        .then(data => {
            document.getElementById('header-placeholder').innerHTML = data;
        })
        .catch(error => {
            console.error('ヘッダーの読み込みに失敗しました:', error);
        });

    // --- フッターを読み込む処理 ---
    fetch('/_includes/footer.html')
        .then(response => {
            if (!response.ok) throw new Error('Network response was not ok');
            return response.text();
        })
        .then(data => {
            document.getElementById('footer-placeholder').innerHTML = data;
        })
        .catch(error => {
            console.error('フッターの読み込みに失敗しました:', error);
        });
</script>

</body>
</html>