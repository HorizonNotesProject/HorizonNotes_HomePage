<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=1200">
    <title>円環の秩序「クロノス」 - HorizonNotes</title>
    
    <link rel="stylesheet" href="../css/style.css"> 
    
    </head>
<body>

     <div id="header-placeholder"></div>

<main class="card-detail-main">

        <h2>遠き深淵の支配者「プルート」</h2>

        <p class="flavor-quote picatrix">
            「次は、きっと……次はもっと、うまく、誰も傷つけずに……。<br>
            でも、私には無理かも、しれない……。」
        </p>

        <hr>

        <button class="detail-accordion-toggle active">
            プロフィール・設定
        </button>
        <div class="detail-accordion-panel active">
                        <div class="character-intro">
                
                <div class="profile-layout">
                    <div class="profile-info">
                        <h3>プロフィール</h3>
                    <ul>
                        <li><strong>仮符号・別名:</strong> 冥王星</li>
                        <li><strong>星座:</strong> -</li>
                        <li><strong>好きなもの:</strong> 優しい人</li>
                        <li><strong>嫌いなもの:</strong> 争うこと</li>
                        <li><strong>身長:</strong> 145cm</li>
                        <li><strong>B:</strong> 78 / <strong>W:</strong> 64 / <strong>H:</strong> 65</li>
                    </ul>
                </div>
                <div class="profile-image">
                    <img src="../images/alcastella_StandingPicture/009_Pluto.png" alt="プルート 立ち絵" loading="lazy">
                </div>
            </div>

            <div class="lore-section">
                <h3>設定</h3>
                <p>
                    太陽系外縁に位置し、深遠なる暗闇に包まれた惑星「冥王星」。<br>
                    その名を冠するアルカステラ、<strong>プルート</strong>は、<strong>冥界の覇王</strong>としての<strong>強大な素質</strong>を内に秘めています。<br>
                    彼女の魂には、世界を支配し、全てを無に帰すほどの力が宿っていますが、<br>
                    プルート自身はそれを恐れ、常に何かに<strong>怯えています</strong>。<br>
                    その力は、彼女にとって祝福ではなく、<strong>呪い</strong>なのです。<br>
                    幼く孤独な姿とは裏腹に、彼女の視線の先には<strong>深淵</strong>が広がっています。<br>
                    プルートは常に自信がなく、その真の力を抑え込んでいますが、<br>
                    追い詰められたとき、<strong>抑えきれない覇道の力が暴走</strong>し、戦場を暗闇へと引きずり込むことになります。<br>
                    彼女の恐怖を理解し、その力を優しく導くことが、キミの最も困難で重要な使命となるでしょう。
                </p>

                <h3>性能</h3>
                <p>
                    プルートは、他を圧倒する<strong>攻撃性能</strong>と、<strong>セメタリー（墓地）を利用した予測不能な多彩な戦術</strong>を得意とする、<strong>生粋のアグロ・アタッカー</strong>です。<br>
                    一度その攻めの流れに巻き込まれれば最後、盤面は一瞬にして崩壊し、相手は対処する暇もなく敗北を強いられます。<br>
                    ただし、彼女は「<strong>打たれ弱い</strong>」という致命的な弱点を抱えており、防御を固めた相手との 長期戦 になればなるほど苦戦を強いられます。<br>
                    <strong>迅速な攻めと綿密なセメタリー管理</strong>で、相手に反撃の隙を与えないことが、プルートを使いこなす絶対条件となります。
                </p>
            </div>
        </div>
        
        </div>

        <!-- 性能詳細 -->
        <button class="detail-accordion-toggle active">
            性能詳細 (Lv・スキル)
        </button>
        <div class="detail-accordion-panel active">
                        <div class="performance-details">
                                <h3>性能詳細</h3>

            <div class="tab-nav-card-level">
                <button class="tab-btn-card-level active" data-target="level1">Lv1</button>
                <button class="tab-btn-card-level" data-target="level2">Lv2</button>
                <button class="tab-btn-card-level" data-target="level3">Lv3</button>
                <!-- <button class="tab-btn-card-level" data-target="special-rule">特別ルール</button> -->
            </div>

            <div class="tab-content-card-level">
                
                <div id="level1" class="tab-pane-card-level active">
                
                <!-- --------------------------------------------------------------------------
                ###  Lv1ステータス
                -->
                <ul class="level-stats">
                    <li><strong>HP:</strong> 50</li>
                    <li><strong>ATK:</strong> 6</li>
                    <li><strong>DEF:</strong> 0</li>
                </ul>

                <div class="level-details-grid">
                    
                    <div class="grid-column">
                        <div class="level-card-image">
                            <img src="../images/alcastella/009_Pluto_Lv1.png" alt="プルート Lv1 カード" loading="lazy">
                        </div>
                        
                        <!-- --------------------------------------------------------------------------
                        ###  Lv1アストラルコード
                        -->
                        <button class="skill-accordion-toggle active">
                            アストラルコード <span class="skill-count">(2)</span>
                        </button>
                        <div class="skill-accordion-panel active">
                            <div class="skill-box">
                                <h4><span class="skill-type sk-astral">アストラルコード1</span> パクト・ウィズ・デス</h4>
                                <div class="skill-prop"><strong>コスト:</strong> -</div>
                                <div class="skill-prop"><strong>タイミング:</strong> 好きなタイミング</div>
                                <div class="skill-effect">
                                    <strong>効果:</strong><br>
                                    <strong>セメタリーにカードが10枚以上あるときに発動可能</strong>。<br>
                                    セメタリーの<strong>コスト３以下のこのアルカステラが発動できるカード3枚を選び</strong>、<strong>コスト0で発動できる</strong>。
                                </div>
                            </div>
                            <div class="skill-box">
                                <h4><span class="skill-type sk-astral">アストラルコード2</span> コール・オブ・ヘルズゲート</h4>
                                <div class="skill-prop"><strong>コスト:</strong> -</div>
                                <div class="skill-prop"><strong>タイミング:</strong> 自分のターン</div>
                                <div class="skill-effect">
                                    <strong>効果:</strong><br>
                                    <strong>【<span class="glossary-tooltip">絶対効果<span class="tooltip-text">絶対効果：この能力を持つスキルやスペルは、≪無効≫の効果を無視して適用されます。</span></span>】</strong><br>
                                    このアストラルコードは<strong>現在のターン数が10ターン以内の場合でのみ発動する</strong>。<br>
                                    相手全体に<strong>20点の【<span class="glossary-tooltip">消失ダメージ<span class="tooltip-text">消失ダメージ：【消失ダメージ】と書かれたダメージは、アルカステラのDEFや<br>
                        その他の【装甲】といったダメージ軽減効果を一切受けずに適用されます。</span></span>】を与える</strong>。
                                </div>
                            </div>
                        </div>
                        </div>
                        
                        <!-- --------------------------------------------------------------------------
                        ###  Lv1攻撃スキル
                        -->
                    <div class="grid-column">
                        <div class="skill-box">
                            <h4><span class="skill-type sk-attack">攻撃スキル</span> ネザークラッシュ</h4>
                            <div class="skill-prop"><strong>コスト:</strong> 2</div>
                            <div class="skill-prop"><strong>タイミング:</strong> 好きなタイミング</div>
                            <div class="skill-effect">
                                <strong>効果:</strong><br>
                                <strong>《ATK + セメタリーのカード枚数＋2d6》のダメージを与える</strong>。<br>
                                その後、自身に<strong>5点の【<span class="glossary-tooltip">消失ダメージ<span class="tooltip-text">消失ダメージ：【消失ダメージ】と書かれたダメージは、アルカステラのDEFや<br>
                        その他の【装甲】といったダメージ軽減効果を一切受けずに適用されます。</span></span>】を与える</strong>。
                            </div>
                        </div>
                        
                        
                        <!-- --------------------------------------------------------------------------
                        ###  Lv1支援スキル
                        -->
                        <button class="skill-accordion-toggle active">
                            支援スキル <span class="skill-count">(3)</span>
                        </button>
                        <div class="skill-accordion-panel active">
                            <div class="skill-box">
                                <h4><span class="skill-type sk-support">支援スキル1</span> リクイエム・パクト</h4>
                                <div class="skill-prop"><strong>コスト:</strong> 1</div>
                                <div class="skill-prop"><strong>タイミング:</strong> 好きなタイミング</div>
                                <div class="skill-effect">
                                    <strong>効果:</strong><br>
                                    セメタリーのピカトリクスクラスのカードを1枚手札に加える。
                                    その後、自身に3点の【<span class="glossary-tooltip">消失ダメージ<span class="tooltip-text">消失ダメージ：【消失ダメージ】と書かれたダメージは、アルカステラのDEFや<br>
                        その他の【装甲】といったダメージ軽減効果を一切受けずに適用されます。</span></span>】を与える。
                                </div>
                            </div>
                            <div class="skill-box">
                                <h4><span class="skill-type sk-support">支援スキル2</span> 葬送</h4>
                                <div class="skill-prop"><strong>コスト:</strong> 1</div>
                                <div class="skill-prop"><strong>タイミング:</strong> 好きなタイミング</div>
                                <div class="skill-effect">
                                    <strong>効果:</strong><br>
                                    山札からカードを<strong>現在の《座標》の値の数だけセメタリーに送る</strong>。
                                </div>
                            </div>
                            <div class="skill-box">
                                <h4><span class="skill-type sk-support">支援スキル3</span> 攻撃支援Lv.1</h4>
                                <div class="skill-prop"><strong>コスト:</strong> 1</div>
                                <div class="skill-prop"><strong>タイミング:</strong> カウンター［攻撃スキル］</div>
                                <div class="skill-effect">
                                    <strong>効果:</strong><br>
                                    <strong>発動者をタップ状態にする</strong>。<br>
                                    攻撃スキルのダメージに<strong>発動者のATKの値分、加算する</strong>。
                                </div>
                            </div>
                        </div>
                        
                        
                        <!-- --------------------------------------------------------------------------
                        ###  Lv1リーダースキルスキル
                        -->
                        <div class="skill-box">
                            <h4><span class="skill-type sk-leader">リーダースキル※Lv1,2,3含めてどれか一つ</span> 
                                Lv1:冥界の祝福</h4>
                            <div class="skill-prop"><strong>タイミング:</strong>自分のターン</div>
                            <div class="skill-effect">
                                <strong>効果:</strong><br>
                                あなたのターン開始時、<strong>セメタリーにカードが20枚以上あるなら</strong><br>
                                あなたのすべてのアルカステラは<strong>HPを5回復</strong>し、<strong>1枚ドローする</strong>。（<strong>1ターン1回まで</strong>）。

                            </div>
                        </div>
                    </div>
                    
                    
                </div> </div> <div id="level2" class="tab-pane-card-level">
                
                <!-- --------------------------------------------------------------------------
                ###  Lv2ステータス
                -->
                <ul class="level-stats">
                    <li><strong>HP:</strong> 75</li>
                    <li><strong>ATK:</strong> 10</li>
                    <li><strong>DEF:</strong> 0</li>
                </ul>

                <div class="level-details-grid">
                    
                    <div class="grid-column">
                        <div class="level-card-image">
                            <img src="../images/alcastella/009_Pluto_Lv2.png" alt="プルート Lv2 カード" loading="lazy">
                        </div>
                        
                        <!-- --------------------------------------------------------------------------
                        ###  Lv2アストラルコード
                        -->
                        <button class="skill-accordion-toggle active">
                            アストラルコード <span class="skill-count">(2)</span>
                        </button>
                        <div class="skill-accordion-panel active">
                            <div class="skill-box">
                                <h4><span class="skill-type sk-astral">アストラルコード1</span> ソウルイーター・クレスト</h4>
                                <div class="skill-prop"><strong>コスト:</strong> 4</div>
                                <div class="skill-prop"><strong>タイミング:</strong> 好きなタイミング</div>
                                <div class="skill-effect">
                                    <strong>効果:</strong><br>
                                    セメタリーのカードを3枚<strong>【ボイド送り】</strong>し、このアルカステラは<strong>ATK+4、DEF-2を得る</strong>。<br>
                                    ※<strong>DEFが-の場合はダメージを受ける時その分の補正を受ける</strong>。
                                </div>
                            </div>
                            <div class="skill-box">
                                <h4><span class="skill-type sk-astral">アストラルコード2</span> 冥界の逆転</h4>
                                <div class="skill-prop"><strong>コスト:</strong> -</div>
                                <div class="skill-prop"><strong>タイミング:</strong> 好きなタイミング</div>
                                <div class="skill-effect">
                                    <strong>効果:</strong><br>
                                    あなたの<strong>セメタリーにある全てのカードを、あなたのデッキにする</strong>。<br>
                                    あなたの<strong>デッキにある全てのカードを、あなたのセメタリーに送る</strong>。<br>
                                    <strong>相手も同様に、セメタリーとデッキを入れ替える</strong>。
                                </div>
                            </div>
                        </div>
                        </div>
                    
                    <div class="grid-column">
                    <!-- --------------------------------------------------------------------------
                        ###  Lv2レベルアップ条件
                        -->
                        
                        <div class="level-up-box">
                            <h4>レベルアップ条件</h4>
                            <ol>
                                <li>後行プレイヤーの5ターン目以降</li>
                                <li>セメタリーが20枚以上の時</li>
                            </ol>
                        </div>
                        
                        <!-- --------------------------------------------------------------------------
                        ###  Lv2攻撃スキル
                        -->
                        <div class="skill-box">
                            <h4><span class="skill-type sk-attack">攻撃スキル</span> フォール・スラッシュ</h4>
                            <div class="skill-prop"><strong>コスト:</strong> 3</div>
                            <div class="skill-prop"><strong>タイミング:</strong> 自分のターン</div>
                            <div class="skill-effect">
                                <strong>効果:</strong><br>
                                以下のダメージ値を<strong>《ATK × [数値]》として加算</strong>する。<br>
                                ・セメタリーにカードが <strong>15枚以上 存在する場合： +《ATK × 2》</strong><br>
                                ・このアルカステラの <strong>HPが 25以下 である場合： +《ATK × 1》</strong><br>
                                ・あなたの場のアルカステラが <strong>1体 戦闘不能である場合： +《ATK × 1》</strong><br>
                                ・あなたの場のアルカステラが <strong>2体以上 戦闘不能である場合： +《ATK × 1》</strong><br>
                                <br>
                                その後、自身に<strong>５点の【<span class="glossary-tooltip">消失ダメージ<span class="tooltip-text">消失ダメージ：【消失ダメージ】と書かれたダメージは、アルカステラのDEFや<br>
                        その他の【装甲】といったダメージ軽減効果を一切受けずに適用されます。</span></span>】を与える</strong>。
                        </div>
                        
                        <!-- --------------------------------------------------------------------------
                        ###  Lv2支援スキル
                        -->
                        <button class="skill-accordion-toggle active">
                            支援スキル <span class="skill-count">(3)</span>
                        </button>
                        <div class="skill-accordion-panel active">
                            <div class="skill-box">
                                <h4><span class="skill-type sk-support">支援スキル1</span>ネクロマンサーズ・プロット</h4>
                                <div class="skill-prop"><strong>コスト:</strong> 2</div>
                                <div class="skill-prop"><strong>タイミング:</strong> 好きなタイミング</div>
                                <div class="skill-effect">
                                    <strong>効果:</strong><br>
                                    山札の一番上からカードを1枚、<strong>セメタリーに送る</strong>。<br>
                                    セメタリーに送ったカードの<strong>コスト値を参照</strong>する。<br>
                                    発動者の<strong>最大HPを、そのコスト値分だけ減らす</strong>。<br>
                                    発動者の<strong>ATKに、そのコスト値分だけ＋補正を与える</strong>。
                                </div>
                            </div>
                            <div class="skill-box">
                                <h4><span class="skill-type sk-support">支援スキル2</span> 攻撃支援Lv.2</h4>
                                <div class="skill-prop"><strong>コスト:</strong> 1</div>
                                <div class="skill-prop"><strong>タイミング:</strong> カウンター［攻撃スキル］</div>
                                <div class="skill-effect">
                                    <strong>効果:</strong><br>
                                    <strong>発動者をタップ状態にする</strong>。<br>
                                    攻撃スキルのダメージに発動者の<strong>ATKのATK×2の値分＋の補正を得る</strong>。
                                </div>
                            </div>
                            <div class="skill-box">
                                <h4><span class="skill-type sk-support">支援スキル3</span> グレイヴ・ドラッグ</h4>
                                <div class="skill-prop"><strong>コスト:</strong> 0</div>
                                <div class="skill-prop"><strong>タイミング:</strong> 好きなタイミング</div>
                                <div class="skill-effect">
                                    <strong>効果:</strong><br>
                                    セメタリーから<strong>スペルカードを1枚選び、手札に戻す</strong>。<br>
                                    そのカードの<strong>コストが３以上ならあなたはエーテルを２点獲得</strong>する。<br>
                                    <strong>コストが３以下ならこのアルカステラは10点の【<span class="glossary-tooltip">消失ダメージ<span class="tooltip-text">消失ダメージ：【消失ダメージ】と書かれたダメージは、アルカステラのDEFや<br>
                        その他の【装甲】といったダメージ軽減効果を一切受けずに適用されます。</span></span>】を受ける</strong>。
                                </div>
                            </div>
                        </div>
                        
                        <!-- --------------------------------------------------------------------------
                        ###  Lv2リーダースキル
                        -->
                        <div class="skill-accordion-panel active">
                        <button class="skill-accordion-toggle active">
                            リーダースキル <span class="skill-count">(2)</span>
                        </button>
                        <div class="skill-accordion-panel active">
                        <div class="skill-box">
                            <h4><span class="skill-type sk-leader">リーダースキル①</span> Lv2:冥界の王</h4>
                            <div class="skill-prop"><strong>タイミング:</strong>自分のターン</div>
                            <div class="skill-effect">
                                <strong>効果:</strong><br>
                                セメタリーから<strong>カードが発動</strong>、<br>
                                もしくは<strong>手札に加わった時</strong>相手のランダムなアルカステラに<strong>５点のダメージを与える</strong>。
                            </div>
                        </div>
                            <div class="skill-box">
                            <h4><span class="skill-type sk-leader">リーダースキル②</span> Lv2:策士</h4>
                            <div class="skill-prop"><strong>タイミング:</strong>常時</div>
                            <div class="skill-effect">
                                <strong>効果:</strong><br>
                                このレベルの開始時、あなたは3点のエーテルを得る。
                            </div>
                        </div>
                        </div>

                        </div>
                    </div>
                </div> </div>
                    
                </div> <div id="level3" class="tab-pane-card-level">
                
                <!-- --------------------------------------------------------------------------
                ###  Lv3ステータス
                -->
                <ul class="level-stats">
                    <li><strong>HP:</strong> 100</li>
                    <li><strong>ATK:</strong> 16</li>
                    <li><strong>DEF:</strong> 0</li>
                </ul>

                <div class="level-details-grid">
                    
                    <div class="grid-column">
                        <div class="level-card-image">
                            <img src="../images/alcastella/009_Pluto_Lv3.png" alt="プルート Lv3 カード" loading="lazy">
                        </div>
                        
                        <!-- --------------------------------------------------------------------------
                        ###  Lv3アストラルコード
                        -->
                        
                    <div class="grid-column">
                            <div class="skill-box">
                                <h4><span class="skill-type sk-astral">アストラルコード</span> プルト・ドミニオン</h4>
                                <div class="skill-prop"><strong>コスト:</strong> -</div>
                                <div class="skill-prop"><strong>タイミング:</strong> 好きなタイミング</div>
                                <div class="skill-effect">
                                    <strong>効果:</strong><br>
                                    自身を除く、<strong>相手味方全体</strong>に<strong>ATK×5のダメージを与える</strong>。<br>
                                    相手はデッキの上からカードを5枚【消滅】させる。
                                </div>
                            </div>
                            </div>
                            </div>
                        
                    <div class="grid-column">
                    <!-- --------------------------------------------------------------------------
                        ###  Lv3レベルアップ条件
                        -->
                        
                        <div class="level-up-box">
                            <h4>レベルアップ条件</h4>
                            <ol>
                                <li>後行プレイヤーの10ターン目以降</li>
                                <li>あなたのリーダーのHPが15未満</li>
                                <li>エーテルが10以上であること</li>
                            </ol>
                        </div>
                        
                        <!-- --------------------------------------------------------------------------
                        ###  Lv3攻撃スキル
                        -->
                    <div class="grid-column">
                        <div class="skill-box">
                            <h4><span class="skill-type sk-attack">攻撃スキル</span> ロード・オブ・プルト</h4>
                            <div class="skill-prop"><strong>コスト:</strong> 1</div>
                            <div class="skill-prop"><strong>タイミング:</strong> 自分のターン</div>
                            <div class="skill-effect">
                                <strong>効果:</strong><br>
                                <strong>《ATK×3》ダメージ</strong>。<br>
                                対象の<strong>DEF及び《装甲》の値を0にする</strong>。<br>
                                その後、相手は<strong>手札をすべてセメタリーに送る</strong>。
                            </div>
                        </div>
                        
                        
                        <!-- --------------------------------------------------------------------------
                        ###  Lv3支援スキル
                        -->
                            <div class="skill-box">
                                <h4><span class="skill-type sk-support">支援スキル</span> サイクル・オブ・リヴァース</h4>
                                <div class="skill-prop"><strong>コスト:</strong> 2</div>
                                <div class="skill-prop"><strong>タイミング:</strong> 好きなタイミング</div>
                                <div class="skill-effect">
                                    <strong>効果:</strong><br>
                                    あなたの戦闘脱落した全てのアルカステラをHP1の状態で戦線復帰させる。
                                </div>
                            </div>                        
                        
                        <!-- --------------------------------------------------------------------------
                        ###  Lv3リーダースキルスキル
                        -->
                        <div class="skill-box">
                            <h4><span class="skill-type sk-leader">リーダースキル※Lv1,2,3含めてどれか一つ</span> Lv3:冥府の契印</h4>
                            <div class="skill-prop"><strong>タイミング:</strong>自分のターン</div>
                            <div class="skill-effect">
                                <strong>効果:</strong><br>
                                このアルカステラが攻撃スキルを使用するたび、セメタリーからランダムに1枚を手札に戻す。
                                その後、このアルカステラはATK+5の補正を与える。（各ターン１回のみ適用）
                            </div>
                        </div>
                    </div>
                <!-- <div id="special-rule" class="tab-pane-card-level">
                    <h3>ポラリスの特別ルール</h3>
                    <p>（例：クラス変更に関する詳細なルールや、「ディープ・ラーニング」の裁定など）</p>
                </div> -->
                 </div>
        </div>

        <hr>

        <div class="back-button-wrapper">
            <a href="../cards.html" class="back-button">← カード一覧へ戻る</a>
        </div>

    </main>
    
        <div id="footer-placeholder"></div>


<script>
(function() {
    
    // --- 1. 性能詳細タブ切り替え機能 (Lv1, Lv2...) ---
    const levelTabs = document.querySelectorAll('.tab-btn-card-level');
    const levelPanes = document.querySelectorAll('.tab-pane-card-level');

    levelTabs.forEach(tab => {
        tab.addEventListener('click', () => {
            const targetId = tab.getAttribute('data-target');
            
            levelTabs.forEach(t => t.classList.remove('active'));
            levelPanes.forEach(p => p.classList.remove('active'));
            
            tab.classList.add('active');
            document.getElementById(targetId).classList.add('active');
        });
    });

    // --- 2. メインアコーディオン機能 (プロフィール / 性能) ---
    // (cards.html の .accordion-toggle とは違うクラス名 .detail-accordion-toggle を使う)
    const mainAccordions = document.querySelectorAll('.detail-accordion-toggle');
    
    mainAccordions.forEach(accordion => {
        accordion.addEventListener('click', () => {
            // クリックされたボタン
            accordion.classList.toggle('active');
            // ボタンの「次の要素」(パネル)
            const panel = accordion.nextElementSibling;
            panel.classList.toggle('active');
        });
    });
    
    // --- 3. スキルアコーディオン機能 (アストラルコード / 支援スキル) ---
    const skillAccordions = document.querySelectorAll('.skill-accordion-toggle');
    
    skillAccordions.forEach(accordion => {
        accordion.addEventListener('click', () => {
            // クリックされたボタン
            accordion.classList.toggle('active');
            // ボタンの「次の要素」(パネル)
            const panel = accordion.nextElementSibling;
            panel.classList.toggle('active');
        });
    });
    
    // --- 7. Smart Tooltip Positioning (v2) ---
        const tooltips = document.querySelectorAll('.glossary-tooltip');

        tooltips.forEach(tooltip => {
            const tooltipText = tooltip.querySelector('.tooltip-text');
            if (!tooltipText) return; // ツールチップテキストが無ければ何もしない

            tooltip.addEventListener('mouseover', () => {
                // 1. ツールチップの幅をCSSから取得 (CSSの width: 300px と合わせる)
                const tooltipWidth = 300; 
                // 2. 親要素（トリガー）の位置と画面幅を取得
                const rect = tooltip.getBoundingClientRect();
                const screenWidth = window.innerWidth;
                
                // 3. デフォルトの中央揃え (`left: 50%`, `transform: translateX(-50%)`) で
                //    左右がはみ出すか計算する
                const tooltipHalfWidth = tooltipWidth / 2;
                const triggerCenter = rect.left + (rect.width / 2);

                const overflowRight = (triggerCenter + tooltipHalfWidth) > screenWidth;
                const overflowLeft = (triggerCenter - tooltipHalfWidth) < 0;

                // 4. クラスを一旦リセット
                tooltipText.classList.remove('align-left-edge', 'align-right-edge');

                // 5. 判定してクラスを付与
                if (overflowRight) {
                    // 右にはみ出す場合、右端に寄せる
                    tooltipText.classList.add('align-right-edge');
                } else if (overflowLeft) {
                    // 左にはみ出す場合、左端に寄せる
                    tooltipText.classList.add('align-left-edge');
                }
                // どちらもはみ出さなければ、クラスは付かずデフォルトの中央揃えになる
            });
        });

})();
</script>

    <script>
    // --- ヘッダーを読み込む処理 ---
    fetch('/_includes/header.html')
        .then(response => {
            if (!response.ok) throw new Error('Network response was not ok');
            return response.text();
        })
        .then(data => {
            document.getElementById('header-placeholder').innerHTML = data;
        })
        .catch(error => {
            console.error('ヘッダーの読み込みに失敗しました:', error);
        });

    // --- フッターを読み込む処理 ---
    fetch('/_includes/footer.html')
        .then(response => {
            if (!response.ok) throw new Error('Network response was not ok');
            return response.text();
        })
        .then(data => {
            document.getElementById('footer-placeholder').innerHTML = data;
        })
        .catch(error => {
            console.error('フッターの読み込みに失敗しました:', error);
        });
</script>

</body>
</html>